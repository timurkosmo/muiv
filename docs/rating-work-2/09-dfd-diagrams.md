# DFD-диаграмма верхнего уровня

## Внешние сущности

### 1. Сотрудник
- Инициатор создания документов
- Исполнитель поручений
- Получатель уведомлений

### 2. Руководитель
- Согласующее лицо
- Принимает решения по документам
- Получатель аналитических отчетов
- Инициатор запросов на отчетность

### 3. Секретарь
- Регистратор входящих документов
- Диспетчер распределения документов
- Контролер движения документов

### 4. Архив
- Внешнее хранилище завершенных документов
- Источник архивных справок
- Получатель документов на долгосрочное хранение

## Основные процессы системы

### Процесс 1.0 - Регистрация документов

**Функция:** Прием и первичная обработка документов

**Входящие потоки:**
- Входящий документ от секретаря
- Новый документ от сотрудника

**Исходящие потоки:**
- Зарегистрированный документ → База документов (D1)
- Метаданные документа → База документов (D1)
- Файл документа → Хранилище файлов (D3)
- Запись о регистрации → Журнал аудита (D4)

### Процесс 2.0 - Маршрутизация документов

**Функция:** Управление движением документов между исполнителями

**Входящие потоки:**
- Информация о документе ← База документов (D1)
- Данные о маршруте ← База пользователей (D2)

**Исходящие потоки:**
- Задание на исполнение → Сотруднику
- Уведомление о новом документе → Сотруднику
- Обновление статуса → База документов (D1)

### Процесс 3.0 - Согласование

**Функция:** Процедуры согласования документов

**Входящие потоки:**
- Документ на согласование ← от Руководителя
- Информация об этапах согласования ← База документов (D1)

**Исходящие потоки:**
- Решение по согласованию → База документов (D1)
- Уведомление об итогах → Инициатору
- Запись о согласовании → Журнал аудита (D4)

### Процесс 4.0 - Контроль исполнения

**Функция:** Отслеживание сроков выполнения поручений

**Входящие потоки:**
- Данные о сроках ← База документов (D1)
- Информация об исполнителях ← База пользователей (D2)

**Исходящие потоки:**
- Напоминание о приближении срока → Сотруднику
- Уведомление о просрочке → Руководителю
- Информация о статусе исполнения → База документов (D1)

### Процесс 5.0 - Формирование отчетов

**Функция:** Генерация аналитической отчетности

**Входящие потоки:**
- Запрос на отчет ← от Руководителя
- Данные для отчета ← База документов (D1)
- Данные для отчета ← Журнал аудита (D4)

**Исходящие потоки:**
- Готовый отчет → Руководителю
- Сохраненный отчет → Хранилище файлов (D3)

### Процесс 6.0 - Поиск и аналитика

**Функция:** Поиск документов и анализ данных

**Входящие потоки:**
- Поисковый запрос ← от Сотрудника
- Данные для поиска ← База документов (D1)
- Данные для поиска ← Хранилище файлов (D3)

**Исходящие потоки:**
- Результаты поиска → Сотруднику
- Запись о запросе → Журнал аудита (D4)

## Хранилища данных

### D1 - База документов
**Содержит:**
- Метаданные всех документов системы
- Информация о маршрутах согласования
- Связи между документами
- Статусы и версии документов

### D2 - База пользователей
**Содержит:**
- Учетные записи пользователей
- Роли и права доступа
- Организационная структура
- Настройки уведомлений

### D3 - Хранилище файлов
**Содержит:**
- Файлы документов в различных форматах
- Вложения к документам
- Шаблоны документов
- Сгенерированные отчеты

### D4 - Журнал аудита
**Содержит:**
- Все операции пользователей с документами
- События системы
- Изменения критичных данных
- Попытки несанкционированного доступа

## Взаимодействие процессов

**Последовательность обработки документа:**

1. Регистрация (1.0) → передает данные в Маршрутизацию (2.0)
2. Маршрутизация (2.0) → инициирует Согласование (3.0) для определенных типов
3. Согласование (3.0) → уведомляет Маршрутизацию (2.0) о завершении
4. Контроль исполнения (4.0) → взаимодействует с Маршрутизацией (2.0)
5. Все процессы → записывают события в Журнал аудита (D4)

## Потоки данных между процессами и хранилищами

**От процессов к хранилищам:**
- Все процессы → записывают события → Журнал аудита (D4)
- Процесс 1.0 → сохраняет метаданные → База документов (D1)
- Процесс 1.0 → сохраняет файлы → Хранилище файлов (D3)
- Процессы 2.0, 3.0, 4.0 → обновляют статус → База документов (D1)

**От хранилищ к процессам:**
- База документов (D1) → предоставляет данные → всем процессам
- База пользователей (D2) → предоставляет данные о ролях → процессам 2.0, 3.0, 4.0
- Хранилище файлов (D3) → предоставляет файлы → процессу 6.0 (поиск)
- Журнал аудита (D4) → предоставляет данные → процессу 5.0 (отчеты)
